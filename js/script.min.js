var buy=document.querySelector(".buy"),adding=document.querySelector(".modal-adding"),closeAdding=adding.querySelector(".modal-close"),continueAdding=adding.querySelector(".modal-continue");buy.addEventListener("click",function(e){e.preventDefault(),adding.classList.add("modal-show")}),closeAdding.addEventListener("click",function(e){e.preventDefault(),adding.classList.remove("modal-show")}),continueAdding.addEventListener("click",function(e){e.preventDefault(),adding.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),adding.classList.contains("modal-show")&&adding.classList.remove("modal-show"))});var mapButton=document.querySelector(".contacts-button-map"),map=document.querySelector(".modal-map"),mapClose=map.querySelector(".modal-close");mapButton.addEventListener("click",function(e){e.preventDefault(),map.classList.add("modal-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),map.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),map.classList.contains("modal-show")&&map.classList.remove("modal-show"))});var write=document.querySelector(".company-btn"),message=document.querySelector(".modal-message"),close=message.querySelector(".modal-close"),loginForm=message.querySelector("[name=name]"),email=message.querySelector("[name=email]"),form=message.querySelector("form"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}write.addEventListener("click",function(e){e.preventDefault(),message.classList.add("modal-show"),storage?(loginForm.value=storage,email.focus()):loginForm.focus()}),close.addEventListener("click",function(e){e.preventDefault(),message.classList.remove("modal-show"),message.classList.remove("modal-error")}),form.addEventListener("submit",function(e){loginForm.value&&email.value?isStorageSupport&&localStorage.setItem("loginForm",loginForm.value):(e.preventDefault(),message.classList.remove("modal-error"),message.offsetWidth=message.offsetWidth,message.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),message.classList.contains("modal-show")&&(message.classList.remove("modal-show"),message.classList.remove("modal-error")))});
